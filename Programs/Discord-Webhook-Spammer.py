# ============================================================
#  Author      : Anonyme-001
#  Project     : Multi-Tool (Educational Purpose Only)
#  Year        : 2025
#
#  DISCLAIMER:
#  This code is provided for EDUCATIONAL PURPOSES ONLY.
#  It is intended to help understand programming, security
#  concepts, and defensive techniques.
#
#  ❌ Any malicious use is strictly prohibited.
#  ❌ Do NOT modify this code to perform illegal actions.
#  ❌ The author is NOT responsible for any misuse.
#
#  By using this code, you agree to use it responsibly
#  and within legal boundaries.
#
#  Copyright (c) 2025 Anonyme-001
#  See LICENSE file for details.
# ============================================================


from Plugins.Utils import *
from Plugins.Config import *

try:
    import requests
    import time
    import threading
except Exception as e:
    MissingModule(e)

Title("Discord Webhook Spammer")
Connection()

try:
    webhook = ChoiceWebhook()

    try:
        print()
        message = input(f"{INPUT} Message {red}->{reset} ")
        amount  = int(input(f"{INPUT} Amount {red}->{reset} "))
        threads = int(input(f"{INPUT} Threads {red}->{reset} "))
        print()
    except:
        ErrorInput()

    print(f"{LOADING} Starting Webhook Spammer..", reset)

    success_count = 0
    lock          = threading.Lock()

    def Spam():
        global success_count, lock

        while success_count < amount:
            try:
                time.sleep(0.1)

                headers = {"Content-Type": "application/json", "User-Agent": RandomUserAgents()}
                data    = {"content": message}

                response = requests.post(webhook, json=data, headers=headers)
                if response.status_code == 204:
                    with lock:
                        success_count += 1
                        print(f"{SUCCESS} Status:{red} Send         {white}| Message:{red} {message}", reset)
                elif response.status_code == 429:
                    try:
                        retry_after = response.json().get("retry_after", 1)
                    except:
                        retry_after = 1
                    print(f"{ERROR} Status:{red} Rate Limited {white}| Message:{red} {message}", reset)
                    time.sleep(retry_after)
                else:
                    print(f"{ERROR} Status:{red} Not Send     {white}| Message:{red} {message}", reset)
            except:
                print(f"{ERROR} Status:{red} Error        {white}| Message:{red} {message}", reset)

    thread_list = []
    for i in range(threads):
        t = threading.Thread(target=Spam)
        thread_list.append(t)
        t.start()

    for t in thread_list:
        t.join()

    Continue()
    Reset()

except Exception as e:
    Error(e)